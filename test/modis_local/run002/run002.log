2014-07-16 13:50:23,841-0500 INFO  Loader VERSION Swift 0.95 RC6 swift-r7900 cog-r3908
2014-07-16 13:50:23,843-0500 INFO  Loader RUN_ID run002
2014-07-16 13:50:23,843-0500 INFO  Loader ARGUMENTS [-runid, run002, -logfile, /Users/yangyangxinye/Dropbox/Documents/Swift/MODIS/apps/modis_local/run002/run002.log, -config, /Users/yangyangxinye/Dropbox/Documents/Swift/MODIS/apps/modis_local/run002/cf, modis.swift]
2014-07-16 13:50:23,843-0500 INFO  Loader MAX_HEAP 1060372480
2014-07-16 13:50:23,843-0500 INFO  Loader GLOBUS_HOSTNAME wireless-224-163.uchicago.edu
2014-07-16 13:50:23,843-0500 INFO  Loader CWD /Users/yangyangxinye/Dropbox/Documents/Swift/MODIS/apps/modis_local/.
2014-07-16 13:50:23,843-0500 DEBUG Loader SWIFT_CONFIGURATION Swift configuration ([/Users/yangyangxinye/Dropbox/Documents/Swift/MODIS/apps/modis_local/run002/cf]): {pgraph.node.options=color="seagreen", style="filled", clustering.min.time=60, clustering.queue.delay=4, sites.file=/Users/yangyangxinye/Downloads/swift-0.95-RC6/etc/sites.xml, ticker.prefix=Progress: , provenance.log=false, kickstart.enabled=maybe, tc.file=/Users/yangyangxinye/Downloads/swift-0.95-RC6/etc/tc.data, foreach.max.threads=16384, lazy.errors=false, ticker.date.format=, sitedir.keep=true, throttle.score.job.factor=0.2, kickstart.always.transfer=false, throttle.host.submit=2, replication.limit=3, clustering.enabled=false, pgraph=false, file.gc.enabled=true, replication.min.queue.time=60, wrapper.parameter.mode=args, replication.enabled=false, throttle.transfers=4, wrapperlog.always.transfer=true, throttle.submit=4, pgraph.graph.options=splines="compound", rankdir="TB", caching.algorithm=LRU, use.wrapper.staging=false, provider.staging.pin.swiftfiles=false, tracing.enabled=true, wrapper.invocation.mode=absolute, mapping.checker=on, execution.retries=0, cdm.broadcast.mode=file, status.mode=provider, use.provider.staging=false, throttle.file.operations=8}
2014-07-16 13:50:23,843-0500 INFO  Loader SITES_FILE /Users/yangyangxinye/Downloads/swift-0.95-RC6/etc/sites.xml
2014-07-16 13:50:23,844-0500 DEBUG textfiles BEGIN SITES:
<?xml version="1.0" encoding="UTF-8"?>
<config xmlns="http://www.ci.uchicago.edu/swift/SwiftSites">

<!-- sites.xml specifies details of the sites that Swift can run on.

The entry for localhost should work on most linux-like systems
without any change.

It may be necessary to change /var/tmp to a different
working directory.

The jobThrottle profile is set to 0 so that Swift will not try to run more
than two jobs at once (the minimum) when using the local sites. This is
appropriate for local execution, but make sure if/when using another
execution mechanism to submit to an HPC resource that this jobThrottle
is updated.

-->

  <pool handle="localhost">
    <filesystem provider="local" />
    <execution provider="local" />
    <workdirectory >/var/tmp</workdirectory>
    <profile namespace="karajan" key="jobThrottle">0</profile>
  </pool>

</config>


2014-07-16 13:50:23,844-0500 DEBUG textfiles END SITES:
2014-07-16 13:50:23,844-0500 INFO  Loader TC_FILE /Users/yangyangxinye/Downloads/swift-0.95-RC6/etc/tc.data
2014-07-16 13:50:23,844-0500 DEBUG textfiles BEGIN TC:
* * * INSTALLED INTEL32::LINUX null


2014-07-16 13:50:23,844-0500 DEBUG textfiles END TC:
2014-07-16 13:50:23,844-0500 DEBUG textfiles BEGIN SWIFTSCRIPT:
type imagefile;
type landuse;
type perlscript;

perlscript getlanduse_pl <"getlanduse.pl">;

app (landuse output) getLandUse (imagefile input, perlscript ps)
{
  perl ps filename(input) stdout=filename(output);
}

# Constants and command line arguments
int nFiles       = toInt(arg("nfiles", "1000"));
string MODISdir  = arg("modisdir", "../data/modis/2002");

# Input Dataset
imagefile geos[] <filesys_mapper; location=MODISdir, suffix=".rgb">;

# Compute the land use summary of each MODIS tile
landuse land[] <structured_regexp_mapper; source=geos, match="(h..v..)",
                transform=strcat("landuse/\\1.landuse.byfreq")>;

foreach g,i in geos {
    land[i] = getLandUse(g, getlanduse_pl);
}


2014-07-16 13:50:23,845-0500 DEBUG textfiles END SWIFTSCRIPT:
2014-07-16 13:50:23,845-0500 INFO  Loader modis.swift: source file is new. Recompiling.
2014-07-16 13:50:24,405-0500 DEBUG Loader Detailed exception:
org.griphyn.vdl.karajan.CompilationException: Cannot pass type 'perlscript' as a parameter to application 'perl' in application perl at line 7
	at org.griphyn.vdl.engine.Karajan.application(Karajan.java:1241)
	at org.griphyn.vdl.engine.Karajan.binding(Karajan.java:1203)
	at org.griphyn.vdl.engine.Karajan.procedure(Karajan.java:400)
	at org.griphyn.vdl.engine.Karajan.processProcedures(Karajan.java:301)
	at org.griphyn.vdl.engine.Karajan.program(Karajan.java:365)
	at org.griphyn.vdl.engine.Karajan.compile(Karajan.java:139)
	at org.griphyn.vdl.karajan.Loader.compile(Loader.java:378)
	at org.griphyn.vdl.karajan.Loader.main(Loader.java:128)
Caused by: org.griphyn.vdl.karajan.CompilationException: Cannot pass type 'perlscript' as a parameter to application 'perl'
	at org.griphyn.vdl.engine.Karajan.application(Karajan.java:1229)
	... 7 more
